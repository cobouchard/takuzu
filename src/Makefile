CFLAGS = -std=c11 -Wall -Wextra -g -O2
CPPFLAGS = -I../include -DDEBUG
LDFLAGS = -lm

all: takuzu

takuzu: takuzu.o grid.o parser.o heuristics.o
	$(CC) $(CFLAGS) -o $@ $^ $(LDFLAGS)

takuzu.o: takuzu.c
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

grid.o: grid.c ../include/grid.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c grid.c

parser.o: parser.c ../include/parser.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c parser.c

heuristics.o: heuristics.c ../include/heuristics.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c heuristics.c

clean: 
	@rm -f *.o takuzu

help:
	@echo "Usage: "
	@echo "make [all]\t Build the software"
	@echo "make clean\t Remove all files generated by make"
	@echo "make help\t display this help"


.PHONY: all clean help
